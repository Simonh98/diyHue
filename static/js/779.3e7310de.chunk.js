"use strict";(self.webpackChunkdiyhue=self.webpackChunkdiyhue||[]).push([[779],{1614:function(e,n,c){c.d(n,{Z:function(){return i}});var s=c(6355),t=c(430),r=c.n(t),o=c(184);function i(e){var n=e.type,c=e.message,t=e.duration,i=e.setType;return(0,o.jsx)(r(),{duration:t,persistOnHover:!0,children:(0,o.jsx)("div",{className:"notificationContainer",children:(0,o.jsxs)("div",{className:"notification ".concat(n),children:[(0,o.jsx)("p",{children:c}),(0,o.jsx)("div",{className:"icon",children:(0,o.jsx)(s.aHS,{onClick:function(){return i("none")}})})]})})})}},698:function(e,n,c){c.r(n),c.d(n,{default:function(){return f}});var s=c(885),t=c(2791),r=c(4569),o=c.n(r),i=c(6856),a=c(6355),l=c(6036),d=c(337),u=(c(8988),c(184)),h=function(e){var n=e.HOST_IP,c=e.api_key,s=e.id,t=e.device,r=e.setType,h=e.setMessage,v=function(){o().delete("".concat(n,"/api/").concat(c,"/sensors/").concat(s)).then((function(e){h("Device successfully deleted"),r("none"),r("success")})).catch((function(e){console.error(e),h("Error occured, check browser console"),r("none"),r("error")}))};return(0,u.jsxs)("div",{className:"devicecard device",children:[(0,u.jsxs)("div",{className:"row1",children:[(0,u.jsx)("div",{className:"icon",children:(0,u.jsx)(a.hWE,{})}),(0,u.jsx)("div",{className:"text",children:t.name}),(0,u.jsx)("div",{className:"switchContainer",children:(0,u.jsxs)("label",{className:"switch",children:[(0,u.jsx)("input",{type:"checkbox",defaultChecked:t.config.on,onChange:function(e){return i=e.currentTarget.checked,void o().put("".concat(n,"/api/").concat(c,"/sensors/").concat(s,"/config"),{on:i}).then((function(e){h(t.name+" successfully "+(i?"enabled":"disabled")),r("none"),r("success")})).catch((function(e){console.error(e),h("Error occured, check browser console"),r("none"),r("error")}));var i}}),(0,u.jsx)("span",{className:"slider"})]})})]}),(0,u.jsx)("div",{className:"row2",children:(0,u.jsxs)("div",{className:"text",children:["ModelID: ",t.modelid," ",(0,u.jsx)("br",{}),"Type: ",t.type," ",(0,u.jsx)("br",{}),"Protocol: ",t.protocol," ",(0,u.jsx)("br",{})]})}),(0,u.jsxs)("div",{className:"row3",children:[(0,u.jsx)("div",{className:"battery",children:"battery"in t.config&&function(){var e=t.config.battery,n=e+"%";return e>90?(0,u.jsx)(l.s_x,{color:"#27ae60",title:n}):e>70?(0,u.jsx)(l.R2z,{color:"#1abc9c",title:n}):e>40?(0,u.jsx)(l.L1g,{color:"#e67e22",title:n}):(0,u.jsx)(l.Nk4,{color:"#e74c3c",title:n})}()}),(0,u.jsx)("div",{className:"iconbtn red",children:(0,u.jsx)(i.FH3,{title:"Delete",onClick:function(){(0,d._1)({title:"Delete device "+t.name,message:"Are you sure to do this?",buttons:[{label:"Yes",onClick:function(){return v()}},{label:"No"}]})}})})]})]})},v=c(1614),f=function(e){var n=e.HOST_IP,c=e.API_KEY,r=(0,t.useState)({}),i=(0,s.Z)(r,2),a=i[0],l=i[1],d=(0,t.useState)("none"),f=(0,s.Z)(d,2),x=f[0],j=f[1],m=(0,t.useState)("no message"),p=(0,s.Z)(m,2),N=p[0],b=p[1];return(0,t.useEffect)((function(){var e=function(){void 0!==c&&o().get("".concat(n,"/sensors")).then((function(e){console.log(e.data),l(e.data)})).catch((function(e){console.error(e)}))};e();var s=setInterval((function(){e()}),2e3);return function(){return clearInterval(s)}}),[n,c]),(0,u.jsx)("div",{className:"content",children:(0,u.jsx)("div",{className:"inner",children:(0,u.jsxs)("div",{className:"devicecontainer",children:["none"!==x&&(0,u.jsx)(v.Z,{type:x,message:N,duration:"5000",setType:j}),(0,u.jsx)("div",{className:"cardGrid",children:Object.entries(a).map((function(e){var t=(0,s.Z)(e,2),r=t[0],o=t[1];return"none"!==o.protocol&&(0,u.jsx)(h,{HOST_IP:n,api_key:c,id:r,device:o,setType:j,setMessage:b},r)}))})]})})})}}}]);
//# sourceMappingURL=779.3e7310de.chunk.js.map