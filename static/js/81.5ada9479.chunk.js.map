{"version":3,"file":"static/js/81.5ada9479.chunk.js","mappings":"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","sources":["containers/Flash.js","containers/LightUpdate.js","containers/Light.js","containers/AddLight.js","icons/scan.svg","views/Lights.js"],"sourcesContent":["import { FaTimes } from \"react-icons/fa\";\nimport FlashMessage from \"react-flash-message\";\n\nexport default function Flash({ type, message, duration, setType }) {\n  return (\n    <FlashMessage duration={duration} persistOnHover={true}>\n      <div className=\"notificationContainer\">\n        <div className={`notification ${type}`}>\n          <p>{message}</p>\n          <div className=\"icon\">\n            <FaTimes onClick={() => setType(\"none\")} />\n          </div>\n        </div>\n      </div>\n    </FlashMessage>\n  );\n}\n","import { MdSystemUpdate } from \"react-icons/md\";\nimport { confirmAlert } from \"react-confirm-alert\"; // Import\nimport \"react-confirm-alert/src/react-confirm-alert.css\"; // Import css\n\nconst LightUpdate = ({ light, lightsCatalog, setMessage, setType }) => {\n  const updateAlert = () => {\n    confirmAlert({\n      title: \"Update light \" + light[\"name\"] + \" firmware?\",\n      message: \"Are you sure to do this?\",\n      buttons: [\n        {\n          label: \"Yes\",\n          onClick: () => UpdateLight(),\n        },\n        {\n          label: \"No\",\n        },\n      ],\n    });\n  };\n\n  const UpdateLight = () => {\n    setMessage(\"Begin light firmware update\");\n    setType(\"none\");\n    setType(\"success\");\n  };\n\n  return (\n    <>\n      {[\"native_single\", \"native_multi\"].includes(light[\"protocol\"]) &&\n        lightsCatalog.lenght > 2 &&\n        light[\"protocol_cfg\"][\"version\"] ===\n          lightsCatalog[light[\"protocol_cfg\"][\"type\"]][\"version\"] && (\n          <div className=\"btn blue\">\n            <MdSystemUpdate\n              title=\"Update available\"\n              onClick={() => updateAlert()}\n            />\n          </div>\n        )}\n    </>\n  );\n};\n\nexport default LightUpdate;\n","import { MdDeleteForever } from \"react-icons/md\";\nimport LightUpdate from \"./LightUpdate\";\nimport axios from \"axios\";\nimport \"react-dropdown/style.css\";\nimport { confirmAlert } from \"react-confirm-alert\"; // Import\nimport \"react-confirm-alert/src/react-confirm-alert.css\"; // Import css\nimport { HueIcons } from \"../icons/hass-hue-icons\"\nimport Select from \"react-select\"\n\nconst Light = ({\n  HOST_IP,\n  api_key,\n  id,\n  light,\n  modelIds,\n  setType,\n  setMessage,\n  lightsCatalog,\n}) => {\n  const deleteAlert = () => {\n    confirmAlert({\n      title: \"Delete light \" + light[\"name\"],\n      message: \"Are you sure to do this?\",\n      buttons: [\n        {\n          label: \"Yes\",\n          onClick: () => deleteLight(),\n        },\n        {\n          label: \"No\",\n        },\n      ],\n    });\n  };\n\n  const deleteLight = () => {\n    axios\n      .delete(`${HOST_IP}/api/${api_key}/lights/${id}`)\n      .then((fetchedData) => {\n        console.log(fetchedData.data);\n        setMessage(\"Light successfully deleted\");\n        setType(\"none\");\n        setType(\"success\");\n      })\n      .catch((error) => {\n        console.error(error);\n        setMessage(\"Error occured, check browser console\");\n        setType(\"none\");\n        setType(\"error\");\n      });\n  };\n\n  const alertLight = () => {\n    axios\n      .put(`${HOST_IP}/api/${api_key}/lights/${id}/state`, { alert: \"select\" })\n      .then((fetchedData) => {\n        console.log(fetchedData.data);\n        setMessage(\"Light alerted\");\n        setType(\"none\");\n        setType(\"success\");\n      })\n      .catch((error) => {\n        console.error(error);\n        setMessage(\"Error occured, check browser console\");\n        setType(\"none\");\n        setType(\"error\");\n      });\n  };\n\n  const setModelId = (modelid) => {\n    console.log({ [id]: modelid });\n    axios\n      .post(`${HOST_IP}/light-types`, { [id]: modelid })\n      .then((fetchedData) => {\n        console.log(fetchedData.data);\n        setMessage(\"Modelid updated\");\n        setType(\"none\");\n        setType(\"success\");\n      })\n      .catch((error) => {\n        console.error(error);\n        setMessage(\"Error occured, check browser console\");\n        setType(\"none\");\n        setType(\"error\");\n      });\n  };\n\n  let options = modelIds.map(function (modelid) {\n    return { value: modelid, label: modelid };\n  })\n\n \n\n  return (\n    <div className=\"devicecard light\">\n      <div className=\"row1\">\n        <div className=\"icon\">\n          <HueIcons\n          type = {\"light-\" + light[\"config\"][\"archetype\"]}\n          color= \"#eeeeee\"\n          onClick={() => alertLight()} />\n        </div>\n\n        <div className=\"text\">{light[\"name\"]} </div>\n      </div>\n      <div className=\"row2\">\n        <div className=\"form-control\">\n          <Select \n            options={options}\n            placeholder={light[\"modelid\"]}\n            onChange={(e) => setModelId(e.value)}\n            menuPortalTarget={document.body}\n            menuPosition={'fixed'} \n          />\n        </div>\n        <LightUpdate\n          light={light}\n          lightsCatalog={lightsCatalog}\n          setMessage={setMessage}\n          setType={setType}\n        />\n        \n      </div>\n      <div className=\"row3\">\n        <ul>\n          <li>Protocol: {light[\"protocol\"]}</li>\n          {[\"native\", \"native_multi\", \"native_single\", \"wled\", \"esphome\"].includes(light[\"protocol\"]) ? (\n            <li style={{cursor:'pointer'}} onClick={()=> window.open(\"http://\" + light[\"protocol_cfg\"][\"ip\"], \"_blank\")}>IP: {light[\"protocol_cfg\"][\"ip\"]}</li>\n          ): (\n            <li>IP: {light[\"protocol_cfg\"][\"ip\"]}</li>\n            )}\n          \n        </ul>\n        <div className=\"iconbtn red\">\n          <MdDeleteForever title=\"Delete\" onClick={() => deleteAlert()} />{\" \"}\n        </div>\n      </div>\n\n      {light[\"state\"][\"reachable\"] || <div className=\"label\">Offline</div>}\n    </div>\n  );\n};\n\nexport default Light;\n","import { useState } from \"react\";\nimport axios from \"axios\";\nimport Dropdown from \"react-dropdown\";\nimport \"react-dropdown/style.css\";\n\nconst AddLight = ({ setType, setMessage, HOST_IP, API_KEY }) => {\n  const [lightData, setLightData] = useState({\n    protocol: \"auto\",\n  });\n\n  const handleChange = (key, value) => {\n    setLightData({\n      ...lightData,\n      [key]: value,\n    });\n  };\n\n  const handleForm = (evt) => {\n    evt.preventDefault();\n    const { protocol: lightproto, ip: lightip, ...rest } = lightData;\n    const formattedData = {\n      protocol: lightproto,\n      ip: lightip,\n      config: rest,\n    };\n    axios.post(`${HOST_IP}/api/${API_KEY}/lights`, formattedData);\n    setMessage(\"Light added\");\n    setType(\"none\");\n    setType(\"success\");\n  };\n\n  const protocols = [\n    { value: \"auto\", label: \"Autodetect\" },\n    { value: \"domoticz\", label: \"Domoticz\" },\n    { value: \"flex\", label: \"Flex\" },\n    { value: \"jeedom\", label: \"Jeedom\" },\n    { value: \"milight\", label: \"MiLight\" },\n    { value: \"mibox\", label: \"Mi Box\" },\n    { value: \"wiz\", label: \"Wiz\" },\n  ];\n\n  const milightGroups = [\"1\", \"2\", \"3\", \"4\"];\n\n  const milightModes = [\n    { value: \"rgbw\", label: \"RGBW\" },\n    { value: \"cct\", label: \"CCT\" },\n    { value: \"rgb_cct\", label: \"RGB-CCT\" },\n    { value: \"rgb\", label: \"RGB\" },\n  ];\n\n  const lightModelIds = [\n    { value: \"LOM001\", label: \"On/Off Plug\" },\n    { value: \"LWB010\", label: \"Dimmable Light\" },\n    { value: \"LTW001\", label: \"Color temperature Light\" },\n    { value: \"LCT015\", label: \"Color Light\" },\n    { value: \"LST002\", label: \"Color Strip\" },\n  ];\n\n  return (\n    <div className=\"contentContainer lights\">\n    <form onSubmit={(e) => handleForm(e)} className=\"add-form\">\n      <div className=\"form-control\">\n      <label>Protocol:</label>\n      <Dropdown\n        options={protocols}\n        value={lightData.protocol}\n        // On Dropdown component use e.value\n        onChange={(e) => handleChange(\"protocol\", e.value)}\n        placeholder=\"Choose light protocol\"\n      />\n      </div>\n      <div className=\"form-control\">\n        <label>Light IP Address:</label>\n        <input\n          type=\"text\"\n          placeholder=\"192.168.x.x\"\n          value={lightData.ip}\n          // On regular HTML input components use e.taget.value\n          onChange={(e) => handleChange(\"ip\", e.target.value)}\n        />\n      </div>\n      {lightData.protocol !== \"auto\" && (\n        <>\n          <div className=\"form-control\">\n            <label>Name</label>\n            <input\n              type=\"text\"\n              value={lightData.lightName}\n              onChange={(e) => handleChange(\"lightName\", e.target.value)}\n              placeholder=\"Name used on diyhue\"\n            />\n          </div>\n          <div className=\"form-control\">\n            <Dropdown\n              options={lightModelIds}\n              value={lightData.lightModelID}\n              onChange={(e) => handleChange(\"lightModelID\", e.value)}\n              placeholder=\"Emulated light type\"\n            />\n          </div>\n        </>\n      )}\n      {(lightData.protocol === \"milight\" || lightData.protocol === \"mibox\") && (\n        <>\n          <div className=\"form-control\">\n            <label>Device ID</label>\n            <input\n              type=\"text\"\n              value={lightData.miID}\n              onChange={(e) => handleChange(\"miID\", e.target.value)}\n              placeholder=\"0x1234\"\n            />\n          </div>\n          <Dropdown\n            options={milightModes}\n            value={lightData.miModes}\n            onChange={(e) => handleChange(\"miModes\", e.value)}\n            placeholder=\"Choose light mode\"\n          />\n          <Dropdown\n            options={milightGroups}\n            value={lightData.miGroups}\n            onChange={(e) => handleChange(\"miGroups\", e.value)}\n            placeholder=\"Choose light group\"\n          />\n        </>\n      )}\n      {lightData.protocol === \"mibox\" && (\n        <div className=\"form-control\">\n          <label>Port</label>\n          <input\n            type=\"number\"\n            placeholder=\"Mi Box port\"\n            value={lightData.miBoxPort}\n            onChange={(e) => handleChange(\"miboxPort\", e.target.value)}\n          />\n        </div>\n      )}\n      {lightData.protocol === \"domoticz\" && (\n        <div className=\"form-control\">\n          <label>Device ID</label>\n          <input\n            type=\"text\"\n            placeholder=\"\"\n            value={lightData.domoticzID}\n            onChange={(e) => handleChange(\"domoticzID\", e.target.value)}\n          />\n        </div>\n      )}\n      {lightData.protocol === \"jeedom\" && (\n        <>\n          <div className=\"form-control\">\n            <label>Light Api</label>\n            <input\n              type=\"text\"\n              placeholder=\"Light Api\"\n              value={lightData.jeedomlightAPI}\n              onChange={(e) => handleChange(\"jeedomlightAPI\", e.target.value)}\n            />\n          </div>\n          <div className=\"form-control\">\n            <label>Light ID</label>\n            <input\n              type=\"text\"\n              placeholder=\"Light ID\"\n              value={lightData.jeedomlightID}\n              onChange={(e) => handleChange(\"jeedomlightID\", e.target.value)}\n            />\n          </div>\n        </>\n      )}\n      <div className=\"form-control\">\n        <input type=\"submit\" value=\"Add Light\" className=\"btn btn-block\" />\n      </div>\n    </form>\n    </div>\n  );\n};\n\nexport default AddLight;\n","var _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgScan(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"100%\",\n    height: \"100%\",\n    viewBox: \"0 0 95 95\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    xmlSpace: \"preserve\",\n    style: {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      strokeLinejoin: \"round\",\n      strokeMiterlimit: 2\n    },\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(1,0,0,1,-686.766,-125.442)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(0.889669,0,0,1.87268,-86.5674,1707.97)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(1.12401,0,0,0.533994,96.9104,-912.044)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M720.198,165.122L720.197,168.297L721.785,168.297L721.785,166.709C721.785,165.833 721.074,165.122 720.198,165.122ZM725.486,168.297L738.186,168.297C738.186,167.421 737.475,166.709 736.599,166.709L727.074,166.709C726.198,166.709 725.486,167.421 725.486,168.297ZM747.487,160.834C747.877,162.072 748.097,163.383 748.12,164.741C748.122,164.822 748.122,168.216 748.122,168.297L742.949,168.297C742.949,167.421 743.66,166.709 744.536,166.709L746.535,166.709C746.534,165.792 746.534,164.811 746.533,164.768C746.521,164.053 746.447,163.352 746.317,162.672C746.158,161.842 746.678,161.038 747.487,160.834ZM729.683,151.818C729.995,152.593 729.651,153.487 728.885,153.847C728.513,154.022 728.15,154.215 727.799,154.425L727.649,154.516C725.646,155.753 724.023,157.541 722.996,159.668C722.629,160.43 721.732,160.765 720.96,160.445C722.367,156.396 725.603,153.194 729.683,151.818ZM734.365,151.09C738.836,151.153 742.801,153.313 745.312,156.626C744.676,157.168 743.719,157.125 743.135,156.513C742.811,156.174 742.468,155.853 742.107,155.552C740.339,154.075 738.151,153.081 735.747,152.775C734.908,152.668 734.306,151.923 734.365,151.09Z\",\n    style: {\n      fill: \"white\",\n      fillOpacity: 0.47\n    }\n  }))), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(0.889669,0,0,1.87268,-86.5674,1707.97)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(1.27276,0,0,0.604661,358.65,-988.226)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M443.019,236.773C466.12,236.773 484.874,255.528 484.874,278.628C484.874,301.728 466.12,320.483 443.019,320.483C419.919,320.483 401.164,301.728 401.164,278.628C401.164,255.528 419.919,236.773 443.019,236.773ZM443.019,242.072C463.195,242.072 479.575,258.452 479.575,278.628C479.575,298.804 463.195,315.184 443.019,315.184C422.843,315.184 406.463,298.804 406.463,278.628C406.463,258.452 422.843,242.072 443.019,242.072Z\",\n    style: {\n      fill: \"white\"\n    }\n  }))), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(0.889669,0,0,1.87268,-86.5674,1707.97)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(1.75947,0,0,0.835884,-369.691,-962.036)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M730.158,181.818C730.158,182.14 730.251,182.454 730.427,182.723L731.3,184.036C731.567,184.439 732.174,184.767 732.657,184.767L735.797,184.767C736.277,184.767 736.884,184.439 737.152,184.036L738.022,182.723C738.171,182.496 738.294,182.09 738.294,181.818L738.3,179.813L730.153,179.813L730.158,181.818ZM725.267,167.758L715.152,167.758C714.448,167.758 713.876,167.186 713.876,166.481C713.876,165.777 714.448,165.205 715.152,165.205L753.7,165.205C754.404,165.205 754.976,165.777 754.976,166.481C754.976,167.186 754.404,167.758 753.7,167.758L743.186,167.758C743.135,169.986 742.31,171.97 740.971,173.461C740.129,174.425 738.815,176.439 738.312,178.138C738.311,178.152 738.307,178.165 738.306,178.178L730.148,178.178C730.147,178.165 730.143,178.151 730.142,178.138C729.639,176.439 728.325,174.425 727.483,173.461C726.146,171.929 725.319,169.942 725.267,167.758ZM740.741,167.758C740.691,169.268 740.126,170.749 739.136,171.886C738.338,172.799 737.351,174.254 736.638,175.767L731.82,175.767C731.107,174.254 730.12,172.799 729.323,171.886C728.329,170.749 727.763,169.268 727.713,167.758L740.741,167.758Z\",\n    style: {\n      fill: \"white\"\n    }\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgScan);\nexport default __webpack_public_path__ + \"static/media/scan.119899fdb7c3107f85912b13a83ca9cb.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Light from \"../containers/Light\";\nimport AddLight from \"../containers/AddLight\";\nimport Flash from \"../containers/Flash\";\nimport { BsPlusCircle } from 'react-icons/bs';\nimport { ReactComponent as ScanIcon } from '../icons/scan.svg';\n\nexport default function Lights({ HOST_IP, API_KEY }) {\n  const [lights, setLights] = useState({});\n  const [lightsCatalog, setlightsCatalog] = useState({});\n  const [modelIds, setModelIds] = useState([]);\n  const [type, setType] = useState(\"none\");\n  const [message, setMessage] = useState(\"no message\");\n  const [lightForm, setLightForm] = useState(false);\n\n  const searchForLights = () => {\n    if (API_KEY !== undefined) {\n      axios\n        .post(`${HOST_IP}/api/${API_KEY}/lights`, \"\")\n        .then((fetchedData) => {\n          console.log(fetchedData.data);\n          setMessage(\"Searching for new lights...\");\n          setType(\"none\");\n          setType(\"success\");\n        })\n        .catch((error) => {\n          console.error(error);\n          setMessage(\"Error occured, check browser console\");\n          setType(\"none\");\n          setType(\"error\");\n        });\n    }\n  };\n\n  useEffect(() => {\n    const fetchLights = () => {\n      if (API_KEY !== undefined) {\n        axios\n          .get(`${HOST_IP}/lights`)\n          .then((fetchedData) => {\n            console.log(fetchedData.data);\n            setLights(fetchedData.data);\n          })\n          .catch((error) => {\n            console.error(error);\n          });\n      }\n    };\n\n    const fetchModelIds = () => {\n      if (API_KEY !== undefined) {\n        axios\n          .get(`${HOST_IP}/light-types`)\n          .then((fetchedData) => {\n            console.log(fetchedData.data);\n            setModelIds(fetchedData.data[\"result\"]);\n          })\n          .catch((error) => {\n            console.error(error);\n          });\n      }\n    };\n\n    const fetchLightsCatalog = () => {\n      if (API_KEY !== undefined) {\n        axios\n          .get(`https://raw.githubusercontent.com/diyhue/Lights/master/catalog.json`)\n          .then((fetchedData) => {\n            console.log(fetchedData.data);\n            setlightsCatalog(fetchedData.data);\n          })\n          .catch((error) => {\n            console.error(error);\n          });\n      }\n    };\n\n\n    fetchLights();\n    fetchModelIds();\n    fetchLightsCatalog();\n    const interval = setInterval(() => {\n      fetchLights();\n    }, 2000); // <<-- ⏱ 1000ms = 1s\n    return () => clearInterval(interval);\n  }, [HOST_IP, API_KEY]);\n\n  return (\n    <div className=\"content\">\n      <div className=\"inner\">\n        <div className=\"devicecontainer\">\n      {type !== \"none\" && (\n        <Flash\n          type={type}\n          message={message}\n          duration=\"5000\"\n          setType={setType}\n        />\n      )}\n\n      <div className=\"actionBar\">\n        <div className=\"btn\" onClick={() => setLightForm(!lightForm)}>\n          <BsPlusCircle />\n          <p>Add light</p>\n          </div>\n        <div className=\"btn\" onClick={() => searchForLights()}>\n        <ScanIcon />\n          <p>Scan for lights</p>\n          </div>\n      </div>\n\n      \n        {lightForm && <AddLight\n          setType={setType}\n          setMessage={setMessage}\n          HOST_IP={HOST_IP}\n          API_KEY={API_KEY}>\n        </AddLight>}\n      \n      <div className=\"cardGrid\">\n        {Object.entries(lights).map(([id, light]) => (\n          <Light\n            key={id}\n            HOST_IP={HOST_IP}\n            api_key={API_KEY}\n            id={id}\n            light={light}\n            modelIds={modelIds}\n            setType={setType}\n            setMessage={setMessage}\n            lightsCatalog={lightsCatalog}\n          />\n        ))}\n      </div>\n    </div>\n    </div>\n    </div>\n  );\n}\n"],"names":["Flash","type","message","duration","setType","persistOnHover","className","onClick","light","lightsCatalog","setMessage","UpdateLight","includes","lenght","title","confirmAlert","buttons","label","HOST_IP","api_key","id","modelIds","deleteLight","axios","then","fetchedData","console","log","data","catch","error","options","map","modelid","value","color","alert","placeholder","onChange","e","menuPortalTarget","document","body","menuPosition","style","cursor","window","open","API_KEY","useState","protocol","lightData","setLightData","handleChange","key","onSubmit","evt","preventDefault","formattedData","ip","config","handleForm","target","lightName","lightModelID","miID","miModes","miGroups","miBoxPort","domoticzID","jeedomlightAPI","jeedomlightID","_extends","Object","assign","bind","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgScan","_ref","svgRef","titleId","props","width","height","viewBox","xmlns","xmlnsXlink","xmlSpace","fillRule","clipRule","strokeLinejoin","strokeMiterlimit","ref","transform","d","fill","fillOpacity","ForwardRef","Lights","lights","setLights","setlightsCatalog","setModelIds","lightForm","setLightForm","useEffect","fetchLights","undefined","interval","setInterval","clearInterval","entries"],"sourceRoot":""}